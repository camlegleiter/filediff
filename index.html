<!DOCTYPE html>
<html lang="en">
	<head>
		<title>File Diff</title>
		<link href="assets/css/bootstrap.min.css" rel="stylesheet">
		<style type="text/css">
			body {
			padding-top: 60px;
			padding-bottom: 40px;
			}
		</style>
		<link href="assets/css/bootstrap-fileupload.min.css" rel="stylesheet">
		<link href="assets/css/style.css" rel="stylesheet">
		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="assets/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="brand" href="#">File Diff</a>
				</div>
			</div>
		</div>
		<noscript>
			This site works best when JavaScript is enabled.
		</noscript>
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span6">
					<h2>File 1</h2>
					<p>Select a file, or drag one here to add a file.</p>
					<div class="fileupload fileupload-new" data-provides="fileupload">
						<div class="input-append">
							<div class="uneditable-input span3">
								<i class="icon-file fileupload-exists"></i>
								<span class="fileupload-preview"></span>
							</div>
							<span class="btn btn-file">
								<span class="fileupload-new">Select file</span>
								<span class="fileupload-exists">Change</span>
								<input type="file" id="file1" name="file1" />
							</span>
							<a href="#" class="btn fileupload-exists file1-remove" data-dismiss="fileupload">Remove</a>
						</div>
					</div>
					<pre><code class="java"><ol id="file1-output"></ol></code></pre>
				</div>
				<div class="span6">
					<h2>File 2</h2>
					<p>Select a file, or drag one here to add a file.</p>
					<div class="fileupload fileupload-new" data-provides="fileupload">
						<div class="input-append">
							<div class="uneditable-input span3">
								<i class="icon-file fileupload-exists"></i>
								<span class="fileupload-preview"></span>
							</div>
							<span class="btn btn-file">
								<span class="fileupload-new">Select file</span>
								<span class="fileupload-exists">Change</span>
								<input type="file" id="file2" name="file2"/>
							</span>
							<a href="#" class="btn fileupload-exists file2-remove" data-dismiss="fileupload">Remove</a>
						</div>
					</div>
					<pre><code class="java"><ol id="file2-output"></ol></code></pre>
				</div>
			</div>
		</div>
		<script src="assets/js/vendor/jquery.js"></script>
		<script src="assets/js/vendor/mootools.js"></script>
		<script src="assets/js/vendor/bootstrap-fileupload.min.js"></script>
		<script src="assets/js/vendor/underscore.js"></script>
		
		<script src="assets/js/utils.js"></script>
		<script src="assets/js/filediff.js"></script>
		<script>
			var file1, file2;

			if (window.File && window.FileReader && window.FileList && window.Blob) {
				file1 = new FileDiff('#file1', '#file1-output', '.file1-remove');
				file2 = new FileDiff('#file2', '#file2-output', '.file2-remove');
				
				$(file1).on('ready', function() {
					if (!file2.isReady()) return;
					compareFiles(file1, file2);
				});
				
				$(file2).on('ready', function() {
					if (!file1.isReady()) return;
					compareFiles(file1, file2);
				});
			} else {
				alert('The File APIs are not fully supported in this browser.');
			}
		</script>
	</body>
</html>